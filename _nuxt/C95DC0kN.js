import{a4 as f,an as c,a7 as u,at as i,r as p,au as l,av as d}from"./Byo096l_.js";function g(e){return l()?(d(e),!0):!1}function y(){const e=new Set,t=o=>{e.delete(o)};return{on:o=>{e.add(o);const n=()=>t(o);return g(n),{off:n}},off:t,trigger:(...o)=>Promise.all(Array.from(e).map(n=>n(...o)))}}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const m=()=>{};function h(...e){if(e.length!==1)return c(...e);const t=e[0];return typeof t=="function"?u(i(()=>({get:t,set:m}))):p(t)}function w(e,t,r){return f(e,(o,n,a)=>{o&&t(o,n,a)},{...r,once:!1})}export{y as c,h as t,w};
